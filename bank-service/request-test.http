
###
GET /security/csrf-token
Host: localhost:9000

###
POST /identities/create
Host: localhost:9000
Content-Type: application/json

{
    "authority": "ADMIN",
    "name": "Igor",
    "surname": "Polushev",
    "patronymic": "Petrovich",
    "password": "admin",
    "email": "admin@gmail.com",
    "phone": "+7(913)-905-7556",
    "passport": "4657 687943",
    "enabled": true
}

###
POST /identities/create
Host: localhost:9000
Content-Type: application/json

{
    "authority": "USER",
    "name": "Vadim",
    "surname": "Krivov",
    "patronymic": "Olegovich",
    "password": "user",
    "email": "user@gmail.com",
    "phone": "+7(952)-563-7942",
    "passport": "8696 761238",
    "enabled": true
}

###
POST /identities/create
Host: localhost:9000
X-Csrf-Token: rTJv7mh8SXRf4OaQtNJtx-QF4TGNTpAY6qt_yzwchIqbyrWylQda3Q1JfUJyg9ahgf9Z9YVnzFC5K_U12J9K-wl4tb6q_YTT
Content-Type: application/json

{
    "authority": "EMPLOYEE",
    "name": "Svetlana",
    "surname": "Marlova",
    "patronymic": "Pavlovna",
    "password": "employee",
    "email": "employee@gmail.com",
    "phone": "+7(961)-294-5184",
    "passport": "8463 765238",
    "enabled": true
}

###
PUT /identities/update?identityId=acf2d526-b745-465c-b82f-cb07837f361c
Host: localhost:9000
Authorization: Basic admin@gmail.com admin
Content-Type: application/json

{
    "phone": "+7(952)-295-5690"
}

###
GET /identities
Host: localhost:9000
Authorization: Basic admin@gmail.com admin

###
GET /identities/by-email?email=user@gmail.com
Host: localhost:9000
Authorization: Basic user@gmail.com user

###
GET /identities/by-id?identityId=acf2d526-b745-465c-b82f-cb07837f361c
Host: localhost:9000
Authorization: Basic admin@gmail.com admin

###
DELETE /identities/delete?identityId=acf2d526-b745-465c-b82f-cb07837f361c
Host: localhost:9000
Authorization: Basic admin@gmail.com admin

###
PATCH /identities/change-password?identityId=41d8248f-826c-4f78-a818-94bd6c909aaa&password=adminadmin
Host: localhost:9000
Authorization: Basic admin@gmail.com admin

###
PATCH /identities/enable-disable?identityId=36c26d47-ff67-47c9-a7ba-1a1d0de6f52b&enabled=true
Host: localhost:9000
Authorization: Basic admin@gmail.com admin

###
POST /cards/create
Host: localhost:9000
X-Csrf-Token: rTJv7mh8SXRf4OaQtNJtx-QF4TGNTpAY6qt_yzwchIqbyrWylQda3Q1JfUJyg9ahgf9Z9YVnzFC5K_U12J9K-wl4tb6q_YTT
Authorization: Basic employee@gmail.com employee
Content-Type: application/json

{
    "identityId": "36c26d47-ff67-47c9-a7ba-1a1d0de6f52b",
    "cardType": "DEBIT",
    "paymentSystem": "MIR",
    "years": 3
}

###
GET /cards/by-parameters?identityId=36c26d47-ff67-47c9-a7ba-1a1d0de6f52b&number=2454-7267-5555-5072&validTill=2028-06-12&code=636
Host: localhost:9000
Authorization: Basic user@gmail.com user